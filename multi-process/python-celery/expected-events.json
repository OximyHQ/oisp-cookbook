{
  "$schema": "https://oisp.dev/cookbook/expected-events.schema.json",
  "description": "Multiple Celery workers making OpenAI API calls",
  "minimum_events": 4,
  "events": [
    {
      "event_type": "ai.request",
      "required_fields": {
        "data.provider.name": "openai",
        "data.model.id": "/gpt-4o.*/",
        "data.request_type": "chat"
      }
    },
    {
      "event_type": "ai.response",
      "required_fields": {
        "data.success": true,
        "data.usage.total_tokens": "> 0"
      }
    },
    {
      "event_type": "ai.request",
      "required_fields": {
        "data.provider.name": "openai"
      }
    },
    {
      "event_type": "ai.response",
      "required_fields": {
        "data.success": true
      }
    }
  ]
}
